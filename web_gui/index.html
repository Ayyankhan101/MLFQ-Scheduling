<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MLFQ Scheduler - Professional Interface</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>MLFQ Scheduler Dashboard</h1>
        
        <div class="controls">
            <button id="start-btn">‚ñ∂Ô∏è Start</button>
            <button id="pause-btn">‚è∏Ô∏è Pause</button>
            <button id="step-btn">‚è≠Ô∏è Step</button>
            <button id="reset-btn">üîÑ Reset</button>
            <button id="preset-btn">üìã Preset Processes</button>
            <button id="random-btn">üé≤ Random Processes</button>
            <button id="add-process-btn">‚ûï Add Process</button>
            <button id="config-btn">‚öôÔ∏è Config</button>
        </div>

        <div class="status-panel">
            <div class="status-item">
                <h3 class="metric-label">Current Time</h3>
                <div class="value" id="current-time">0</div>
            </div>
            <div class="status-item">
                <h3 class="metric-label">Active Processes</h3>
                <div class="value" id="active-processes">0</div>
            </div>
            <div class="status-item">
                <h3 class="metric-label">Completed</h3>
                <div class="value" id="completed-processes">0</div>
            </div>
            <div class="status-item">
                <h3 class="metric-label">CPU Utilization</h3>
                <div class="value" id="cpu-utilization">0%</div>
            </div>
        </div>

        <div class="main-content">
            <div class="queues-section">
                <h2 class="section-title">üìã Process Queues</h2>
                <div id="queues-container"></div>
                
                <div class="boost-status">
                    <div id="boost-status" class="boost-enabled">Priority Boost: ON</div>
                    <div id="boost-timestamp">Last boost: Time 0</div>
                    <div id="boost-countdown">Next boost in: 20 time units</div>
                </div>
            </div>

            <div class="processes-section">
                <h2 class="section-title">üìä Process Details</h2>
                <div id="process-table-container">
                    <table class="process-table" id="process-table">
                        <thead>
                            <tr>
                                <th>PID</th>
                                <th>Arrival</th>
                                <th>Burst</th>
                                <th>Remaining</th>
                                <th>Completion</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="process-table-body">
                        </tbody>
                    </table>
                </div>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value" id="avg-wait-time">0.0</div>
                        <div class="metric-label">Avg Wait Time</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="avg-turnaround-time">0.0</div>
                        <div class="metric-label">Avg Turnaround</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="avg-response-time">0.0</div>
                        <div class="metric-label">Avg Response</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="throughput">0.00</div>
                        <div class="metric-label">Throughput</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Configuration Modal -->
    <div id="config-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%;">
            <h3 style="margin-bottom: 20px; color: #333;">‚öôÔ∏è Scheduler Configuration</h3>
            
            <div class="config-panel">
                <div class="config-row">
                    <label>Speed (ms):</label>
                    <input type="range" id="speed-slider" min="1" max="10" value="5">
                    <span id="speed-value">500ms</span>
                </div>

                <div class="config-row">
                    <label>Number of Queues:</label>
                    <input type="number" id="num-queues" value="3" min="2" max="5">
                </div>

                <div class="config-row">
                    <label>Base Quantum (ms):</label>
                    <input type="number" id="base-quantum" value="4" min="1" max="10">
                </div>

                <div class="config-row">
                    <label>Quantum Multiplier:</label>
                    <input type="number" id="quantum-multiplier" value="2.0" min="1.0" max="5.0" step="0.1">
                </div>

                <div class="config-row">
                    <label>Last Queue Algorithm:</label>
                    <select id="last-queue-algorithm">
                        <option value="rr">Round Robin</option>
                        <option value="sjf">Shortest Job First</option>
                        <option value="priority">Priority</option>
                    </select>
                </div>

                <div class="config-row">
                    <label>Priority Boost:</label>
                    <input type="checkbox" id="priority-boost" checked>
                </div>

                <div class="config-row">
                    <label>Boost Interval:</label>
                    <input type="number" id="boost-interval" value="20" min="1" max="100">
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button onclick="applyConfig()">‚úÖ Apply</button>
                <button onclick="closeConfig()" style="background: #f44336; margin-left: 10px;">‚ùå Cancel</button>
            </div>
        </div>
    </div>

    <!-- Add Process Modal -->
    <div id="add-process-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 15px; max-width: 400px; width: 90%;">
            <h3 style="margin-bottom: 20px; color: #333;">‚ûï Add New Process</h3>
            
            <div class="config-panel">
                <div class="config-row">
                    <label>Arrival Time:</label>
                    <input type="number" id="new-arrival-time" value="0" min="0">
                </div>
                
                <div class="config-row">
                    <label>Burst Time:</label>
                    <input type="number" id="new-burst-time" value="5" min="1">
                </div>
                
                <div class="config-row">
                    <label>Priority:</label>
                    <input type="number" id="new-priority" value="1" min="1" max="10">
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button onclick="addNewProcess()">‚úÖ Add Process</button>
                <button onclick="closeAddProcess()" style="background: #f44336; margin-left: 10px;">‚ùå Cancel</button>
            </div>
        </div>
    </div>

    <!-- Preset Processes Modal -->
    <div id="preset-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 15px; max-width: 600px; width: 90%;">
            <h3 style="margin-bottom: 20px; color: #333;">üìã Load Preset Process Sets</h3>
            
            <div class="config-panel">
                <div class="preset-options">
                    <div class="preset-option" onclick="selectPreset(1)">
                        <h4>1. Standard Set (5 processes)</h4>
                        <p>Mixed workload with varying arrival times</p>
                        <ul>
                            <li>P1: Arrival=0, Burst=20</li>
                            <li>P2: Arrival=5, Burst=12</li>
                            <li>P3: Arrival=10, Burst=8</li>
                            <li>P4: Arrival=15, Burst=16</li>
                            <li>P5: Arrival=20, Burst=5</li>
                        </ul>
                    </div>
                    
                    <div class="preset-option" onclick="selectPreset(2)">
                        <h4>2. CPU-Intensive (3 processes)</h4>
                        <p>Long-running processes for testing queue demotion</p>
                        <ul>
                            <li>P1: Arrival=0, Burst=30</li>
                            <li>P2: Arrival=5, Burst=25</li>
                            <li>P3: Arrival=10, Burst=20</li>
                        </ul>
                    </div>
                    
                    <div class="preset-option" onclick="selectPreset(3)">
                        <h4>3. I/O-Intensive (5 processes)</h4>
                        <p>Short processes that complete quickly</p>
                        <ul>
                            <li>P1: Arrival=0, Burst=3</li>
                            <li>P2: Arrival=2, Burst=2</li>
                            <li>P3: Arrival=4, Burst=4</li>
                            <li>P4: Arrival=6, Burst=3</li>
                            <li>P5: Arrival=8, Burst=2</li>
                        </ul>
                    </div>
                    
                    <div class="preset-option" onclick="selectPreset(4)">
                        <h4>4. Mixed Workload (7 processes)</h4>
                        <p>Combination of short and long processes</p>
                        <ul>
                            <li>P1: Arrival=0, Burst=15</li>
                            <li>P2: Arrival=2, Burst=3</li>
                            <li>P3: Arrival=4, Burst=8</li>
                            <li>P4: Arrival=6, Burst=2</li>
                            <li>P5: Arrival=8, Burst=12</li>
                            <li>P6: Arrival=10, Burst=5</li>
                            <li>P7: Arrival=12, Burst=7</li>
                        </ul>
                    </div>

                    <div class="preset-option" onclick="selectPreset(5)">
                        <h4>5. Mixed Workload (5 processes)</h4>
                        <p>Mix of short and long processes</p>
                        <ul>
                            <li>P1: Arrival=0, Burst=5</li>
                            <li>P2: Arrival=2, Burst=30</li>
                            <li>P3: Arrival=4, Burst=10</li>
                            <li>P4: Arrival=6, Burst=45</li>
                            <li>P5: Arrival=8, Burst=2</li>
                        </ul>
                    </div>

                    <div class="preset-option" onclick="selectPreset(6)">
                        <h4>6. Simultaneous Arrival (5 processes)</h4>
                        <p>All processes arrive at the same time</p>
                        <ul>
                            <li>P1: Arrival=0, Burst=10</li>
                            <li>P2: Arrival=0, Burst=5</li>
                            <li>P3: Arrival=0, Burst=20</li>
                            <li>P4: Arrival=0, Burst=3</li>
                            <li>P5: Arrival=0, Burst=15</li>
                        </ul>
                    </div>

                    <div class="preset-option" onclick="selectPreset(7)">
                        <h4>7. Gradual Buildup (6 processes)</h4>
                        <p>Increasing number of processes over time</p>
                        <ul>
                            <li>P1: Arrival=0, Burst=10</li>
                            <li>P2: Arrival=1, Burst=9</li>
                            <li>P3: Arrival=3, Burst=8</li>
                            <li>P4: Arrival=6, Burst=7</li>
                            <li>P5: Arrival=10, Burst=6</li>
                            <li>P6: Arrival=15, Burst=5</li>
                        </ul>
                    </div>

                    <div class="preset-option" onclick="selectPreset(8)">
                        <h4>8. Priority Test (5 processes)</h4>
                        <p>Long vs. short jobs arriving together</p>
                        <ul>
                            <li>P1: Arrival=0, Burst=5</li>
                            <li>P2: Arrival=0, Burst=50</li>
                            <li>P3: Arrival=1, Burst=10</li>
                            <li>P4: Arrival=2, Burst=40</li>
                            <li>P5: Arrival=3, Burst=3</li>
                        </ul>
                    </div>
                </div>
                
                <p style="margin-top: 15px;"><strong>Note:</strong> This will replace all existing processes.</p>
                <p><strong>Tip:</strong> Choose from 8 different preset process sets (1-8) to test various scheduling scenarios.</p>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button onclick="closePreset()" style="background: #f44336;">‚ùå Cancel</button>
            </div>
        </div>
    </div>

    <!-- Random Processes Modal -->
    <div id="random-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%;">
            <h3 style="margin-bottom: 20px; color: #333;">üé≤ Generate Random Processes</h3>
            
            <div class="config-panel">
                <div class="config-row">
                    <label>Number of Processes:</label>
                    <input type="number" id="random-count" value="5" min="1" max="20">
                </div>

                <div class="config-row">
                    <label>Min Arrival Time:</label>
                    <input type="number" id="random-min-arrival" value="0" min="0" max="50">
                </div>

                <div class="config-row">
                    <label>Max Arrival Time:</label>
                    <input type="number" id="random-max-arrival" value="10" min="0" max="50">
                </div>

                <div class="config-row">
                    <label>Min Burst Time:</label>
                    <input type="number" id="random-min-burst" value="1" min="1" max="20">
                </div>

                <div class="config-row">
                    <label>Max Burst Time:</label>
                    <input type="number" id="random-max-burst" value="15" min="1" max="50">
                </div>

                <p><strong>Note:</strong> This will add to existing processes.</p>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button onclick="confirmRandom()">‚úÖ Generate</button>
                <button onclick="closeRandom()" style="background: #f44336; margin-left: 10px;">‚ùå Cancel</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
